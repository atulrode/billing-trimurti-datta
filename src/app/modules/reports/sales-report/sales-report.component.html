<div class="container py-4">
  <h4>Sales Report</h4>

  <div class="card p-3 mb-3">
    <div class="row g-2 align-items-center">
      <div class="col-md-3">
        <select class="form-select" [(ngModel)]="dateRange" (change)="load()">
          <option value="7">This Week</option>
          <option value="30">This Month</option>
          <option value="365">This Year</option>
        </select>
      </div>
      <div class="col-md-9 text-end">
        <button class="btn btn-primary">Export Report</button>
      </div>
    </div>
  </div>

  <div class="row g-3">
    <div class="col-md-3">
      <div class="card p-3 text-center">
        <small>Total Sales</small>
        <div class="fw-bold">₹{{ summary.totalSales || 0 }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center">
        <small>Transactions</small>
        <div class="fw-bold">{{ summary.transactions || 0 }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center">
        <small>Cash Sales</small>
        <div class="fw-bold">₹{{ summary.cash || 0 }}</div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card p-3 text-center">
        <small>Credit Sales</small>
        <div class="fw-bold">₹{{ summary.credit || 0 }}</div>
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-md-6">
      <div class="card p-3">
        <h6>Top Selling Products</h6>
        <ul class="list-unstyled">
          <li *ngFor="let p of summary.topProducts">
            {{ p.name }} <span class="float-end">₹{{ p.amount }} • {{ p.qty }} units</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card p-3">
        <h6>Recent Transactions</h6>
        <ul class="list-unstyled">
          <li *ngFor="let b of (summary.filtered || []).slice(0,6)">
            {{ b.invoiceNo }} • ₹{{ b.total }} • {{ b.customerName || 'Walk-in' }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
